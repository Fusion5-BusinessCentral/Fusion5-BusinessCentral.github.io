"use strict";(self.webpackChunkapp_source_documentation=self.webpackChunkapp_source_documentation||[]).push([[2316],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>A});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=s(n),m=o,A=u["".concat(p,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(A,l(l({ref:t},c),{},{components:n})):a.createElement(A,l({ref:t},c))}));function A(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[u]="string"==typeof e?e:o,l[1]=i;for(var s=2;s<r;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5542:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var a=n(7462),o=(n(7294),n(3905));const r={sidebar_position:2,sidebar_class_name:"nav-det-level"},l="Functionality",i={unversionedId:"AddOns-Power-Automate/Vendor-BPAY-Account-Approval/Functionality",id:"AddOns-Power-Automate/Vendor-BPAY-Account-Approval/Functionality",title:"Functionality",description:"How to use",source:"@site/docs/AddOns-Power-Automate/19-Vendor-BPAY-Account-Approval/Functionality.md",sourceDirName:"AddOns-Power-Automate/19-Vendor-BPAY-Account-Approval",slug:"/AddOns-Power-Automate/Vendor-BPAY-Account-Approval/Functionality",permalink:"/AddOns-Power-Automate/Vendor-BPAY-Account-Approval/Functionality",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_class_name:"nav-det-level"},sidebar:"tutorialSidebar",previous:{title:"Pricing",permalink:"/AddOns-Power-Automate/Vendor-BPAY-Account-Approval/Pricing"},next:{title:"Change Log",permalink:"/AddOns-Power-Automate/Vendor-BPAY-Account-Approval/Changelog"}},p={},s=[{value:"How to use",id:"how-to-use",level:2},{value:"Vendor BPAY Account Approval",id:"vendor-bpay-account-approval",level:3},{value:"Setup",id:"setup",level:2},{value:"Power Automate",id:"power-automate",level:2},{value:"Available API Pages",id:"available-api-pages",level:2},{value:"Available External Business Events for Power Automate",id:"available-external-business-events-for-power-automate",level:2}],c={toc:s},u="wrapper";function d(e){let{components:t,...r}=e;return(0,o.kt)(u,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"functionality"},"Functionality"),(0,o.kt)("h2",{id:"how-to-use"},"How to use"),(0,o.kt)("h3",{id:"vendor-bpay-account-approval"},"Vendor BPAY Account Approval"),(0,o.kt)("p",null,"Must be enabled in ",(0,o.kt)("strong",{parentName:"p"},"Power Automate Flows"),". "),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"image.png",src:n(3374).Z,width:"575",height:"297"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"New fields ",(0,o.kt)("strong",{parentName:"li"},"Approval Status")," added to ",(0,o.kt)("strong",{parentName:"li"},"Vendor BPAY Accounts"),". If empty, the record is not approved nor sent for approval. Available statuses: ",(0,o.kt)("strong",{parentName:"li"},"Approval Required"),", ",(0,o.kt)("strong",{parentName:"li"},"Pending Approval"),", ",(0,o.kt)("strong",{parentName:"li"},"Approved"),", ",(0,o.kt)("strong",{parentName:"li"},"Rejected"),"."),(0,o.kt)("li",{parentName:"ul"},"A new action, ",(0,o.kt)("strong",{parentName:"li"},"Send Approval Request")," to ",(0,o.kt)("strong",{parentName:"li"},"Vendor BPAY Accounts"),", emits a ",(0,o.kt)("strong",{parentName:"li"},"Vendor BPAY Account Approval Requested")," business event that can be consumed from Power Automate. The system also shows a notification on the vendor's BPAY account card when the account is not approved or the approval is already requested."),(0,o.kt)("li",{parentName:"ul"},"Whenever any of the following fields is changed (the list of tracked fields can be changed by the user in ",(0,o.kt)("strong",{parentName:"li"},"Tracked Fields"),"), the ",(0,o.kt)("strong",{parentName:"li"},"Approval Status")," is set to the blank value, and the record must be re-approved.",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Biller Code")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Default Customer Reference")))),(0,o.kt)("li",{parentName:"ul"},"When ",(0,o.kt)("strong",{parentName:"li"},"Approval Status")," is reset on any of ",(0,o.kt)("strong",{parentName:"li"},"Vendor BPAY Account")," or a new account is created, the corresponding ",(0,o.kt)("strong",{parentName:"li"},"Vendor")," is blocked (",(0,o.kt)("strong",{parentName:"li"},"Blocked = Payments"),").\nOnce all ",(0,o.kt)("strong",{parentName:"li"},"Vendor BPAY Accounts")," for the vendor are approved, the field is automatically set to ",(0,o.kt)("strong",{parentName:"li"},"Blocked = ''"),". If at least one BPAY account has not been approved yet, the ",(0,o.kt)("strong",{parentName:"li"},"Vendor")," can not be unblocked."),(0,o.kt)("li",{parentName:"ul"},"If the ",(0,o.kt)("strong",{parentName:"li"},"Vendor BPAY Account")," is deleted, the system will check if there are other BPAY accounts waiting for approval. If there are no other accounts, the ",(0,o.kt)("strong",{parentName:"li"},"Vendor")," will be automatically unblocked."),(0,o.kt)("li",{parentName:"ul"},"You can use ",(0,o.kt)("strong",{parentName:"li"},"Record Limits")," to define Vendor BPAY Account that must be approved whenever any of the tracked fields is changed.")),(0,o.kt)("h2",{id:"setup"},"Setup"),(0,o.kt)("p",null,"New option ",(0,o.kt)("strong",{parentName:"p"},"Vendor BPAY Account Approval")," in ",(0,o.kt)("strong",{parentName:"p"},"Power Automate Flows")," table. When enabled, the system checks whether there are any ",(0,o.kt)("strong",{parentName:"p"},"Vendor BPAY Accounts"),". If there is at least one BPAY account, confirm message (see the picture below) is shown. "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"If confirmed, all ",(0,o.kt)("strong",{parentName:"p"},"Vendor BPAY Accounts")," will be set as ",(0,o.kt)("strong",{parentName:"p"},"Approved"),". ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"If ",(0,o.kt)("strong",{parentName:"p"},"No")," is selected, the system will check all existing accounts, and if the BPAY account is not approved, it will block the corresponding ",(0,o.kt)("strong",{parentName:"p"},"Vendor")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"image.png",src:n(5262).Z,width:"1785",height:"436"})))),(0,o.kt)("h2",{id:"power-automate"},"Power Automate"),(0,o.kt)("p",null,"Do you want to know more about the workflow & approval process using Power Automate and our Fusion5 addon? See the documentation for ",(0,o.kt)("a",{parentName:"p",href:"/AddOns-Power-Automate/Pack-for-Power-Automate/Functionality"},"Fusion5 Pack for Power Automate"),"."),(0,o.kt)("p",null,"To configure the Power Automate flow, open ",(0,o.kt)("a",{parentName:"p",href:"https://make.powerautomate.com/"},"https://make.powerautomate.com/")," with the tenant account with the BC license assigned. The BC license is needed to be able to use Premium BC connectors without additional licenses."),(0,o.kt)("p",null,"In Power Automate, go to ",(0,o.kt)("strong",{parentName:"p"},"My Flows")," -> ",(0,o.kt)("strong",{parentName:"p"},"New Flow")," -> ",(0,o.kt)("strong",{parentName:"p"},"Automated Cloud Flow")," or import the existing flow."),(0,o.kt)("h2",{id:"available-api-pages"},"Available API Pages"),(0,o.kt)("p",null,"All API pages have APIPublisher = 'fusion5', APIGroup = 'vendorBpayAccountApproval';"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Vendor BPAY Accounts")," (View existing Vendor BPAY Accounts)",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"APIVersion = 'v1.0';"),(0,o.kt)("li",{parentName:"ul"},"EntityName = 'vendorBpayAccount';"),(0,o.kt)("li",{parentName:"ul"},"EntitySetName = 'vendorBpayAccounts';")))),(0,o.kt)("h2",{id:"available-external-business-events-for-power-automate"},"Available External Business Events for Power Automate"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Vendors (Fusion5)",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Vendor BPAY Account Approval Requested"),", Triggered when a Vendor BPAY Account approval is requested")))))}d.isMDXComponent=!0},3374:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Enable-Flow-59bde79ad12c0d86c6fc6deb56120aad.png"},5262:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Vendor-BPAY-Account-Approval-7ff667af6f91c0e39c405166b1c1ea45.png"}}]);